From f98f5818d8f435ef7725b4d5af61acae4ed3a962 Mon Sep 17 00:00:00 2001
From: vireshpati <viresh@patifamily.com>
Date: Wed, 17 Dec 2025 01:45:32 -0800
Subject: [PATCH] fix missing <sstream> includes for Clang/libc++

---
 .gitignore                                   | 21 ++++++++++++++++++++
 build-and-install.sh                         | 14 ++++++++++++-
 src/cubing.cpp                               |  1 +
 src/graphPropagators/subgraphIsomorphism.cpp |  1 +
 src/sms.cpp                                  |  1 +
 5 files changed, 37 insertions(+), 1 deletion(-)
 create mode 100644 .gitignore

diff --git a/.gitignore b/.gitignore
new file mode 100644
index 0000000..d1ca58d
--- /dev/null
+++ b/.gitignore
@@ -0,0 +1,21 @@
+# CMake / build
+build/
+CMakeCache.txt
+CMakeFiles/
+cmake_install.cmake
+install_manifest.txt
+
+# Compiled outputs
+*.o
+*.o.d
+*.a
+*.so
+*.dylib
+
+# Python build artifacts
+*.egg-info/
+__pycache__/
+*.pyc
+
+# macOS
+.DS_Store
diff --git a/build-and-install.sh b/build-and-install.sh
index 32a2d55..34bac89 100755
--- a/build-and-install.sh
+++ b/build-and-install.sh
@@ -37,7 +37,19 @@ loc_inst=0
 CMAKE_CMD="cmake"
 CMAKE_BUILD_DIR="build"
 CMAKE_FLAGS=(-B "$CMAKE_BUILD_DIR" "-S" ".")
-CMAKE_BUILD_PARALLEL_LEVEL=$(nproc --all)
+CMAKE_FLAGS+=(
+  "-DCMAKE_CXX_STANDARD=17"
+  "-DCMAKE_CXX_STANDARD_REQUIRED=ON"
+  "-DCMAKE_CXX_EXTENSIONS=OFF"
+  "-DCMAKE_CXX_FLAGS=-Wno-error -Wno-deprecated-declarations"
+)
+
+# CMAKE_BUILD_PARALLEL_LEVEL=$(nproc --all)
+if command -v nproc >/dev/null 2>&1; then
+  CMAKE_BUILD_PARALLEL_LEVEL=$(nproc --all)
+else
+  CMAKE_BUILD_PARALLEL_LEVEL=$(sysctl -n hw.ncpu)
+fi
 export CMAKE_BUILD_PARALLEL_LEVEL
 CONF_FLAGS=("-fPIC")
 
diff --git a/src/cubing.cpp b/src/cubing.cpp
index d780e3f..24eda85 100644
--- a/src/cubing.cpp
+++ b/src/cubing.cpp
@@ -6,6 +6,7 @@
 #include "useful.h"
 #include "sms.hpp"
 #include <set>
+#include <sstream>
 
 #define IS_FIXED(lit) (abs(lit) < (int)isFixed.size() && isFixed[abs(lit)])
 
diff --git a/src/graphPropagators/subgraphIsomorphism.cpp b/src/graphPropagators/subgraphIsomorphism.cpp
index 0c6c78f..6d98371 100644
--- a/src/graphPropagators/subgraphIsomorphism.cpp
+++ b/src/graphPropagators/subgraphIsomorphism.cpp
@@ -1,5 +1,6 @@
 #include "subgraphIsomorphism.hpp"
 #include <math.h>
+#include <sstream>
 
 // currently only if target is also fully defined and non-induced
 std::pair<cnf_t, vector<vector<int>>> createEncoding(const adjacency_matrix_t &pattern, const int nt)
diff --git a/src/sms.cpp b/src/sms.cpp
index 18b0885..100630b 100644
--- a/src/sms.cpp
+++ b/src/sms.cpp
@@ -4,6 +4,7 @@
 #include <cmath>
 #include "sms.hpp"
 #include "minimalityCheck.hpp"
+#include <sstream>
 
 GraphSolver::GraphSolver(SolverConfig config, struct minimality_config_t minimality_config) : config(config)
 {
-- 
2.39.3 (Apple Git-146)

